let tabViewTitleMonthElement=document.querySelector(".tabViewTitle.month"),tabViewTitleVideoElement=document.querySelector(".tabViewTitle.video"),MONTHS=["January","February","March","April","May","June","July","August","September","October","November","December"];localStorage.clear();let wheelElement=document.querySelector(".wheel"),currentMonth=(new Date).getMonth(),currentYear=(new Date).getFullYear(),currentVideoNumber=0,currentView="home",currentTempleId=0,currenDate=(new Date).getDate(),filename=1e3*(currentMonth+1)+currenDate+"home";loadData(showTemples,"https://raw.githubusercontent.com/TempleGuru/templeteju/main/json/"+filename,"home"),tabViewTitleMonthElement.innerHTML=MONTHS[currentMonth]+","+currentYear,tabViewTitleVideoElement.innerHTML="Video: Bhagavad Gita";let nextVideoElement=document.querySelector(".nextVideo");nextVideoElement.addEventListener("click",function(e){"gita"==currentView?showVideo(++currentVideoNumber):"live"==currentView?showLiveDarshan(++currentVideoNumber):"audios"==currentView&&showAudios(++currentVideoNumber)});let prevVideoElement=document.querySelector(".prevVideo");prevVideoElement.addEventListener("click",function(e){"gita"==currentView?showVideo(--currentVideoNumber):"live"==currentView?showLiveDarshan(--currentVideoNumber):"audios"==currentView&&showAudios(--currentVideoNumber)});let homeVideoElement=document.querySelector(".homeVideo");function showTemples(){let e=JSON.parse(JSON.parse(localStorage.getItem("home"))).temples,t=document.querySelector("#templeView"),o="";for(let t=0;0==t;t++){o+=`  \n              <div class="video">\n                <img class="moreThreeDots" loading="lazy" alt="${e[t].templename}" data-templeid=${e[t].id} src="images/${e[t].id}.png"/> \n              </div>\n              <div id="basicInfo">\n                <span class="title"> ${e[t].templename} , ${e[t].location} </span> \n                <span class="moreThreeDots" data-templeid=${e[t].id}></span>\n                <span class="contacts"> ${e[t].contacts} </span>\n                <span><a class="website" href=${e[t].website} target="_blank"> ${e[t].website} <a> </span>\n                <div class="more hide"></div>\n                </br>\n                </br>\n                <div><a href="./temples.html"> Show more temples</a></div>\n              </div>`}t.insertAdjacentHTML("beforeend",o),todayArray=JSON.parse(JSON.parse(localStorage.getItem("home"))).today,caledarHTML="";for(let e=0;e<todayArray.length;e++)caledarHTML=`\n                <div id="basicInfo"  class="astrology" style="font-family: 'Timmana';">\n                  <div class="today"> ${todayArray[e].title} </div>\n                  <div> <span class="astroTitle">తిథి : </span> ${todayArray[e].thidhi}\n                  </div> \n                  <div><span class="astroTitle"> నక్షత్రము : </span>${todayArray[e].nakshatram} </div>  \n                  <div><span class="astroTitle"> రాహుకాలం : </span>${todayArray[e].rahu}</div>\n                  <div><span class="astroTitle"> దుర్ముహుర్తము : </span>${todayArray[e].durmuhrtham} </div>\n                  <div><span class="astroTitle">వర్జ్యం : </span>${todayArray[e].varjam}</div>\n                  <div class="fulldetails"><a href="https://telugupanchang.com/" target="_blank"> Show full details </a> </div>\n              </div>\n          `;caledarHTML+="",t.insertAdjacentHTML("beforeend",caledarHTML),liveArray=JSON.parse(JSON.parse(localStorage.getItem("home"))).live,liveDarshanHTML="";for(let e=0;e<liveArray.length;e++)liveDarshanHTML=`<div class="liveDarshan today" >\n        <div class="title"> ${liveArray[e].livetitle} </div>`,liveArray[e].alink?liveDarshanHTML+=` <a\n        href="${liveArray[e].iframelink}"\n        target="_blank"\n      >Click here for Live Darshan</a>`:liveDarshanHTML+=`<iframe width="683" height="384" src="${liveArray[e].iframelink}" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><br/>`;liveDarshanHTML+='<br/><br/>\n        <a href="./live.html"> Show more Live Darshans</a>      \n            </div>',t.insertAdjacentHTML("beforeend",liveDarshanHTML),footerHTML='<div class="footer today">\n            facebook icon, twitter icon, youtube icon, mail icon....\n            </div>',t.insertAdjacentHTML("beforeend",footerHTML),addMoreEvent()}function showVideo(e){null==e&&(e=0),console.log("showVideo: "+e),document.querySelector("#videoView #tabTitle").innerHTML="Bhagavad Gita",tabViewTitleVideoElement.innerHTML="Chapter 1";let t=document.querySelector("#videoiframe"),o=JSON.parse(localStorage.getItem("video"));t.src="https://www.youtube.com/embed/"+JSON.parse(o).video[e]}function showLiveDarshan(e){null==e&&(e=0),console.log("showVideo: "+e),document.querySelector("#videoView #tabTitle").innerHTML="Live Darshan";let t=document.querySelector("#videoiframe"),o=JSON.parse(localStorage.getItem("live"));tabViewTitleVideoElement.innerHTML=JSON.parse(o).live[e].message,t.src=JSON.parse(o).live[e].link}homeVideoElement.addEventListener("click",function(e){currentVideoNumber=0,"gita"==currentView?showVideo(currentVideoNumber):"live"==currentView?showLiveDarshan(currentVideoNumber):"audios"==currentView&&showAudios(currentVideoNumber)});let nextMonthElement=document.querySelector(".nextMonth");nextMonthElement.addEventListener("click",function(e){(currentMonth+=1)>=12&&(currentMonth=0,++currentYear),showCalendar(currentYear,currentMonth)});let prevMonthElement=document.querySelector(".prevMonth");prevMonthElement.addEventListener("click",function(e){(currentMonth-=1)<0&&(currentMonth=11,--currentYear),showCalendar(currentYear,currentMonth)});let curMonthElement=document.querySelector(".currentMonth");function showAudios(e){null==e&&(e=0),console.log("audioNumber: "+e),document.querySelector("#videoView #tabTitle").innerHTML="Audios";let t=document.querySelector("#videoiframe"),o=JSON.parse(localStorage.getItem("audios"));t.src=JSON.parse(o).audios[e].audioLink,tabViewTitleVideoElement.innerHTML=JSON.parse(o).audios[e].message}function showCalendar(e,t){null==e&&null==t&&(e=currentYear,t=currentMonth),console.log("showCalendar: "+e+"  "+t),tabViewTitleMonthElement.innerHTML=MONTHS[currentMonth]+","+currentYear;let o=document.querySelector("#calendariframe"),a=JSON.parse(localStorage.getItem("calendar"));o.src=JSON.parse(a).calendar[e-2020].months[t]}function loadData(e,t,o){if(console.log("loadData: "+e+" "+t+" "+o),null==localStorage.getItem(o)){let a=new XMLHttpRequest;a.open("GET",t),a.send(),a.onreadystatechange=function(){let t;4==this.readyState&&200==this.status&&(t=a.responseText,localStorage.setItem(o,JSON.stringify(t)),e&&e())}}else e&&e()}curMonthElement.addEventListener("click",function(e){currentMonth=(new Date).getMonth(),showCalendar(currentYear=(new Date).getFullYear(),currentMonth)});let homeElement=document.querySelector(".home"),templesElement=document.querySelector(".temples"),gitaElement=document.querySelector(".gita"),audiosElement=document.querySelector(".audios"),liveDarshanElement=document.querySelector(".liveDarshan"),calendarElement=document.querySelector(".calendar"),templeViewElement=document.querySelector("#templeView"),videoViewElement=document.querySelector("#videoView"),calendarViewElement=document.querySelector("#calendarView"),backVideoElement=document.querySelector(".back.video"),backCalendarElement=document.querySelector(".back.calendar");homeElement.addEventListener("click",function(e){currentView="home",window.location.href="./index.html",headerContainer.style.width="0%",templeViewElement.classList.remove("hide"),templeViewElement.classList.add("show"),videoViewElement.classList.remove("show"),videoViewElement.classList.add("hide"),calendarViewElement.classList.remove("show"),calendarViewElement.classList.add("hide")}),templesElement.addEventListener("click",function(e){currentView="temples",window.location.href="./temples.html",headerContainer.style.width="0%",templeViewElement.classList.remove("hide"),templeViewElement.classList.add("show"),videoViewElement.classList.remove("show"),videoViewElement.classList.add("hide"),calendarViewElement.classList.remove("show"),calendarViewElement.classList.add("hide")}),gitaElement.addEventListener("click",function(e){window.location.href="./epics.html",loadData(showVideo,"https://raw.githubusercontent.com/TempleGuru/templeteju/main/gita","video"),currentView="gita",currentVideoNumber=0,headerContainer.style.width="0%",templeViewElement.classList.remove("show"),templeViewElement.classList.add("hide"),videoViewElement.classList.remove("hide"),videoViewElement.classList.add("show"),calendarViewElement.classList.remove("show"),calendarViewElement.classList.add("hide")}),liveDarshanElement.addEventListener("click",function(e){window.location.href="./live.html"}),audiosElement.addEventListener("click",function(e){loadData(showAudios,"https://raw.githubusercontent.com/TempleGuru/templeteju/main/audios","audios"),currentView="audios",currentVideoNumber=0,headerContainer.style.width="0%",templeViewElement.classList.remove("show"),templeViewElement.classList.add("hide"),videoViewElement.classList.remove("hide"),videoViewElement.classList.add("show"),calendarViewElement.classList.remove("show"),calendarViewElement.classList.add("hide")}),calendarElement.addEventListener("click",function(e){loadData(showCalendar,"https://raw.githubusercontent.com/TempleGuru/templeteju/main/calendar","calendar"),currentView="calendar",currentVideoNumber=0,headerContainer.style.width="0%",templeViewElement.classList.remove("show"),templeViewElement.classList.add("hide"),videoViewElement.classList.remove("show"),videoViewElement.classList.add("hide"),calendarViewElement.classList.remove("hide"),calendarViewElement.classList.add("show")}),backCalendarElement.addEventListener("click",function(e){currentView="home",currentVideoNumber=0,console.log("backElement :click"),templeViewElement.classList.remove("hide"),templeViewElement.classList.add("show"),videoViewElement.classList.remove("show"),videoViewElement.classList.add("hide"),calendarViewElement.classList.remove("show"),calendarViewElement.classList.add("hide")}),backVideoElement.addEventListener("click",function(e){currentView="home",currentVideoNumber=0,document.querySelector("#videoiframe").src="",console.log("backElement :click"),templeViewElement.classList.remove("hide"),templeViewElement.classList.add("show"),videoViewElement.classList.remove("show"),videoViewElement.classList.add("hide"),calendarViewElement.classList.remove("show"),calendarViewElement.classList.add("hide")});let menuElement=document.querySelector(".menu"),listingElement=document.querySelector(".listing"),headerContainer=document.querySelector("#headerContainer");headerContainer.style.width="0%",menuElement.addEventListener("click",function(e){console.log(headerContainer.style.width),"0%"==headerContainer.style.width?headerContainer.style.width="70%":headerContainer.style.width="0%"});let closeElement=document.querySelector(".close");function showTempleMore(){let e=document.querySelector("#moreView"),t=document.querySelector("#templePDF"),o=(document.querySelector("#templeMap"),document.querySelector("#tabContent.booking")),a=document.querySelector("#tabContent.schedules");currentTempleId=currentTempleId||-1,e.style.height="100%";let n=JSON.parse(JSON.parse(localStorage.getItem(currentTempleId)));t.src=n.about;let r="";if(0!=n.bookings.length)for(i=0;i<n.bookings.length;i++)r+=n.bookings[i]+"<br>";if(o.innerHTML=r,r="",0!=n.schedules.length)for(i=0;i<n.schedules.length;i++)r+=n.schedules[i]+"<br>";a.innerHTML=r,pdfTab()}function addMoreEvent(e){console.log("AddMoreEvent");let t=document.querySelector("#templeView"),o=(document.querySelector(".more"),document.querySelector("#moreView"));templePDFSrc=e||"",t.addEventListener("click",function(e){if(-1==currentTempleId&&!e.target.classList.contains("moreThreeDots"))return!1;currentTempleId=e.target.dataset.templeid||-1,console.log("TEMPLE ID "+currentTempleId),loadData(showTempleMore,"https://raw.githubusercontent.com/TempleGuru/templeteju/main/templeById/"+currentTempleId,currentTempleId)}),document.querySelector("#moreClose").addEventListener("click",function(e){console.log("more close"),o.style.height="0%"})}closeElement.addEventListener("click",function(e){"0%"==headerContainer.style.width?headerContainer.style.width="70%":headerContainer.style.width="0%"});let tabElement=document.querySelector(".tabs");function pdfTab(){let e=document.querySelector("#tabContent.pdf");e.classList.remove("hide"),e.classList.add("show");let t=document.querySelector("#tabContent.audio");t.classList.remove("show"),t.classList.add("hide"),(t=document.querySelector("#tabContent.booking")).classList.remove("show"),t.classList.add("hide"),(t=document.querySelector("#tabContent.map")).classList.remove("show"),t.classList.add("hide"),(t=document.querySelector("#tabContent.books")).classList.remove("show"),t.classList.add("hide"),(t=document.querySelector("#tabContent.schedules")).classList.remove("show"),t.classList.add("hide"),document.querySelector(".pdfTab.tab").classList.add("bgTitleColor"),document.querySelector(".bookingTab.tab").classList.remove("bgTitleColor"),document.querySelector(".mapTab.tab").classList.remove("bgTitleColor"),document.querySelector(".schedulesTab.tab").classList.remove("bgTitleColor")}function schedulesTab(){let e=document.querySelector("#tabContent.schedules");e.classList.remove("hide"),e.classList.add("show");let t=document.querySelector("#tabContent.pdf");t.classList.remove("show"),t.classList.add("hide"),(t=document.querySelector("#tabContent.booking")).classList.remove("show"),t.classList.add("hide"),(t=document.querySelector("#tabContent.map")).classList.remove("show"),t.classList.add("hide"),(t=document.querySelector("#tabContent.books")).classList.remove("show"),t.classList.add("hide"),document.querySelector(".pdfTab.tab").classList.remove("bgTitleColor"),document.querySelector(".bookingTab.tab").classList.remove("bgTitleColor"),document.querySelector(".mapTab.tab").classList.remove("bgTitleColor"),document.querySelector(".schedulesTab.tab").classList.add("bgTitleColor")}function bookingTab(){let e=document.querySelector("#tabContent.booking");e.classList.remove("hide"),e.classList.add("show");let t=document.querySelector("#tabContent.pdf");t.classList.remove("show"),t.classList.add("hide"),(t=document.querySelector("#tabContent.audio")).classList.remove("show"),t.classList.add("hide"),(t=document.querySelector("#tabContent.map")).classList.remove("show"),t.classList.add("hide"),(t=document.querySelector("#tabContent.books")).classList.remove("show"),t.classList.add("hide"),(t=document.querySelector("#tabContent.schedules")).classList.remove("show"),t.classList.add("hide"),document.querySelector(".pdfTab.tab").classList.remove("bgTitleColor"),document.querySelector(".bookingTab.tab").classList.add("bgTitleColor"),document.querySelector(".mapTab.tab").classList.remove("bgTitleColor"),document.querySelector(".schedulesTab.tab").classList.remove("bgTitleColor")}function mapTab(){let e=document.querySelector("#tabContent.map");e.classList.remove("hide"),e.classList.add("show"),document.querySelector("#templeMap").src=JSON.parse(JSON.parse(localStorage.getItem(currentTempleId))).map;let t=document.querySelector("#tabContent.pdf");t.classList.remove("show"),t.classList.add("hide"),(t=document.querySelector("#tabContent.audio")).classList.remove("show"),t.classList.add("hide"),(t=document.querySelector("#tabContent.booking")).classList.remove("show"),t.classList.add("hide"),(t=document.querySelector("#tabContent.books")).classList.remove("show"),t.classList.add("hide"),(t=document.querySelector("#tabContent.schedules")).classList.remove("show"),t.classList.add("hide"),document.querySelector(".pdfTab.tab").classList.remove("bgTitleColor"),document.querySelector(".bookingTab.tab").classList.remove("bgTitleColor"),document.querySelector(".mapTab.tab").classList.add("bgTitleColor"),document.querySelector(".schedulesTab.tab").classList.remove("bgTitleColor")}tabElement.addEventListener("click",function(e){e.target.classList.contains("pdfTab")&&pdfTab(),e.target.classList.contains("audioTab")&&audioTab(),e.target.classList.contains("bookingTab")&&bookingTab(),e.target.classList.contains("schedulesTab")&&schedulesTab(),e.target.classList.contains("mapTab")&&mapTab(),e.target.classList.contains("booksTab")&&booksTab(),e.target.classList.contains("calendarTab")&&calendarTab()});